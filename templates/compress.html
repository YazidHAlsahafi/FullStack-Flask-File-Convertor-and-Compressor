{% extends "base.html" %}
{% block head %}
<style>
  #fileL {
    border: 1px solid #000000;
    background-color: #2a5bd5;
    border-radius: 10px;
    padding: 50px 200px;
    transition: .5s;
    margin-left: 20%;
    margin-top: 5%;
    width: 10%;
    height: 10%;
    text-align: center;
    display: inline-block;
    color: white;
  }

  #fileL:hover {
    background-color: #2249ac;
    cursor: pointer;
  }
  select {
    border-radius: 10px;
    width: 15%;
    height: 130px;
    font-family: Cairo;
    font-weight: bold;
    text-align: center;
  }

  #submit {
    display: inline-block;
    border: 1px solid #000000;
    border-radius: 10px;
    width: 10%;
    height: 120px;
    transition: .5s;
  }

  #submit:hover {
    background-color: #ddd;
    cursor: pointer;
  }
</style>

{% endblock %}

{% block body %}

<h1 style="text-align: center; padding: 14px 16px;">ضغط ملفات الصور والفيديو</h1>
<form method="POST" action="/compress" enctype="multipart/form-data">
  <label for="files" id="fileL">اختيار الملف</label>
  <input type="file" name="file" required id="files" style="display:none;">
  <select name="compression_level" required>
    <option disabled selected>اختيار قوة الضغط</option>
    <option value="high">عالي (جودة اقل, حجم اقل)</option>
    <option value="medium">متوسط</option>
    <option value="low">منخفض (جودة اعلى, حجم اكبر)</option>
  </select>
  <button id="submit" style="font-family: 'Cairo'; font-weight: bold;">رفع الملف</button>
</form>
<h6 style="text-align: center;">MP4, MKV, AVI, MOV, PNG, JPG, JPEG, WEBP : الصيغ المسموحة</h2>
<script>
  document.querySelector("#files").onchange = function () {
    const fileName = this.files[0]?.name;
    const label = document.querySelector("label[for=files]");
    label.innerText = fileName ?? "اختيار الملف";
  };
</script>
{% if x == 2 %}
<p style="color: red; font-size: 42px; font-weight: bold;">Unsupported file type, only MP4, MKV, AVI, MOV, PNG, JPG, JPEG, WEBP files are supported.
</p>
{% endif %}
<p>{{ error }}</p>
{% endblock %}